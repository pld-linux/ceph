--- ceph-12.2.13/src/osd/PrimaryLogPG.cc.orig	2020-01-30 21:52:36.000000000 +0100
+++ ceph-12.2.13/src/osd/PrimaryLogPG.cc	2020-05-28 12:18:59.914600378 +0200
@@ -1582,7 +1582,7 @@
   if (limit != eversion_t() &&
       limit != pg_trim_to &&
       pg_log.get_log().approx_size() > target) {
-    size_t num_to_trim = std::min(pg_log.get_log().approx_size() - target,
+    size_t num_to_trim = std::min(static_cast<uint64_t>(pg_log.get_log().approx_size() - target),
                              cct->_conf->osd_pg_log_trim_max);
     if (num_to_trim < cct->_conf->osd_pg_log_trim_min &&
         cct->_conf->osd_pg_log_trim_max >= cct->_conf->osd_pg_log_trim_min) {
@@ -1628,7 +1628,7 @@
       pg_log.get_log().approx_size() > target) {
     dout(10) << __func__ << " approx pg log length =  "
              << pg_log.get_log().approx_size() << dendl;
-    size_t num_to_trim = std::min(pg_log.get_log().approx_size() - target,
+    size_t num_to_trim = std::min(static_cast<uint64_t>(pg_log.get_log().approx_size() - target),
 				  cct->_conf->osd_pg_log_trim_max);
     dout(10) << __func__ << " num_to_trim =  " << num_to_trim << dendl;
     if (num_to_trim < cct->_conf->osd_pg_log_trim_min &&
